(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{459:function(t,s,e){"use strict";e.r(s);var a=e(0),i=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"limits"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#limits"}},[t._v("#")]),t._v(" Limits")]),t._v(" "),e("p",[t._v("CloudLinux has support for the following limits:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th"),t._v(" "),e("th"),t._v(" "),e("th"),t._v(" "),e("th"),t._v(" "),e("th")])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Limits")]),t._v(" "),e("td",[t._v("Units")]),t._v(" "),e("td",[t._v("Default Value")]),t._v(" "),e("td",[t._v("Description")]),t._v(" "),e("td",[t._v("Supported Kernels / OS")])]),t._v(" "),e("tr",[e("td",[e("span",{staticClass:"notranslate"},[e("router-link",{attrs:{to:"/limits/#speed-limit"}},[t._v("SPEED")])],1)]),t._v(" "),e("td",[t._v("% of a core, or HZ")]),t._v(" "),e("td",[t._v("100%")]),t._v(" "),e("td",[e("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" speed limit, relative to a single core, or specified in HZ (portable across "),e("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" s)")]),t._v(" "),e("td",[t._v("all")])]),t._v(" "),e("tr",[e("td",[e("span",{staticClass:"notranslate"},[e("router-link",{attrs:{to:"/deprecated/#cpu-limits"}},[t._v("CPU")])],1),t._v(" [deprecated]")]),t._v(" "),e("td",[t._v("% of "),e("span",{staticClass:"notranslate"},[t._v(" CPU ")])]),t._v(" "),e("td",[t._v("25%")]),t._v(" "),e("td",[e("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" Limit (smallest of "),e("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" & NCPU is used)")]),t._v(" "),e("td",[t._v("all")])]),t._v(" "),e("tr",[e("td",[e("router-link",{attrs:{to:"/deprecated/#cpu-limits"}},[t._v("NCPU")]),t._v(" [deprecated]")],1),t._v(" "),e("td",[t._v("number of cores")]),t._v(" "),e("td",[t._v("1 CORE")]),t._v(" "),e("td",[t._v("Max number of cores (smallest of "),e("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" & NCPU used)")]),t._v(" "),e("td",[t._v("all")])]),t._v(" "),e("tr",[e("td",[e("router-link",{attrs:{to:"/limits/#physical-memory-limit"}},[t._v("PMEM")])],1),t._v(" "),e("td",[t._v("KB")]),t._v(" "),e("td",[t._v("1024MB")]),t._v(" "),e("td",[t._v("Physical memory limit (RSS field in ps/RES in top). Also includes shared memory and disk cache")]),t._v(" "),e("td",[t._v("CL5 hybrid kernel, CL5 lve1.x+ kernel, CL6 and CL7")])]),t._v(" "),e("tr",[e("td",[e("router-link",{attrs:{to:"/limits/#virtual-memory-limit"}},[t._v("VMEM")])],1),t._v(" "),e("td",[t._v("KB")]),t._v(" "),e("td",[t._v("0")]),t._v(" "),e("td",[t._v("Virtual memory limit (VSZ field in ps/VIRT in top)")]),t._v(" "),e("td",[t._v("all")])]),t._v(" "),e("tr",[e("td",[e("router-link",{attrs:{to:"/limits/#io"}},[t._v("IO")])],1),t._v(" "),e("td",[t._v("KB/sec")]),t._v(" "),e("td",[t._v("1024KB/sec")]),t._v(" "),e("td",[t._v("IO throughput - combines both read & write operations")]),t._v(" "),e("td",[t._v("CL7, CL6 lve1.1.9+ kernel")])]),t._v(" "),e("tr",[e("td",[e("router-link",{attrs:{to:"/limits/#iops"}},[t._v("IOPS")]),t._v(" [lve1.3+]")],1),t._v(" "),e("td",[t._v("Operations per second")]),t._v(" "),e("td",[t._v("1024")]),t._v(" "),e("td",[t._v("Restricts total number of read/write operations per second.")]),t._v(" "),e("td",[t._v("CL7 and CL6  kernel")])]),t._v(" "),e("tr",[e("td",[e("router-link",{attrs:{to:"/limits/#number-of-processes"}},[t._v("NPROC")])],1),t._v(" "),e("td",[t._v("number")]),t._v(" "),e("td",[t._v("100")]),t._v(" "),e("td",[t._v("Max number of processes within LVE")]),t._v(" "),e("td",[t._v("CL6 and CL7 kernels")])]),t._v(" "),e("tr",[e("td",[e("router-link",{attrs:{to:"/limits/#entry-processes"}},[t._v("EP")])],1),t._v(" "),e("td",[t._v("number")]),t._v(" "),e("td",[t._v("20")]),t._v(" "),e("td",[t._v("Limit on entry processes. Usually represents max number of concurrent connections to apache dynamic scripts as well as SSH and cron jobs running simultaneously.")]),t._v(" "),e("td",[t._v("all")])])])]),t._v(" "),e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("Note")]),e("p",[t._v("It is always better to disable VMEM limits (set them to 0) in your system at all because they are deprecated in CloudLinux 6/7 system and are causing unexpected issues.")])]),e("p",[t._v('Bellow you can find recommendations for your typical shared hosting setup. The recommendations don\'t depend on the power of your server. They only depend on how "fast" you want your hosting accounts to be.')]),t._v(" "),e("p",[e("strong",[t._v("Typical Hosting Account")])]),t._v(" "),e("ul",[e("li",[e("span",{staticClass:"notranslate"},[t._v("SPEED=100%")])]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[t._v("PMEM=512MB")])]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[t._v("VMEM=0")])]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[t._v("IO=1024KB/s")])]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[t._v("IOPS=1024")])]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[t._v("NPROC=100")])]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[t._v("EP=20")])])]),t._v(" "),e("p",[e("strong",[t._v("High End Hosting Account")])]),t._v(" "),e("ul",[e("li",[e("span",{staticClass:"notranslate"},[t._v("SPEED=200%")])]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[t._v("PMEM=1GB")])]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[t._v("VMEM=0")])]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[t._v("IO=4096KB/s")])]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[t._v("IOPS=1024")])]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[t._v("NPROC=100")])]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[t._v("EP=40")])])]),t._v(" "),e("h2",{attrs:{id:"understanding-limits"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#understanding-limits"}},[t._v("#")]),t._v(" Understanding limits")]),t._v(" "),e("p",[t._v("LVE is a kernel level technology developed by the CloudLinux team. The technology has common roots with container based virtualization and uses cgroups in its latest incarnation. It is lightweight and transparent. The goal of LVE is to make sure that no single web site can bring down your web server.")]),t._v(" "),e("p",[t._v("Today, a single site can consume all "),e("span",{staticClass:"notranslate"},[t._v(" CPU, IO, Memory")]),t._v(" resources or Apache processes - and bring the server to a halt. LVE prevents that. It is done via collaboration of Apache module, PAM module and kernel.")]),t._v(" "),e("p",[e("router-link",{attrs:{to:"/cloudlinux_os_components/#hostinglimits-module-for-apache"}},[t._v("mod_hostinglimits")]),t._v(" is Apache module that:")],1),t._v(" "),e("ul",[e("li",[t._v("detects VirtualHost from which the request came;")]),t._v(" "),e("li",[t._v("detects if it was meant for CGI or PHP script;")]),t._v(" "),e("li",[t._v("puts Apache process used to serve that request into LVE for the user determined via SuexecUserGroup directive for that virtual host;")]),t._v(" "),e("li",[t._v("lets Apache to serve the request;")]),t._v(" "),e("li",[t._v("removes Apache process from user's LVE.")])]),t._v(" "),e("p",[t._v("The kernel makes sure that all LVEs get fair share of the server's resources, and that no customer can use more then the limits set for that customer.\nToday we can limit "),e("span",{staticClass:"notranslate"},[t._v("CPU ")]),t._v(", "),e("span",{staticClass:"notranslate"},[t._v(" Memory ")]),t._v(" (virtual and physical), IO, number of processes as well as the number of entry processes (concurrent connections to apache).")]),t._v(" "),e("p",[t._v("Each LVE limits amount of entry processes (Apache processes entering into LVE) to prevent single site exhausting all Apache processes. If the limit is reached, then "),e("span",{staticClass:"notranslate"},[t._v("mod_hostinglimits")]),t._v(" will not be able to place Apache process into LVE, and will return error code 508. This way very heavy site would slow down and start returning 508 errors, without affecting other users.")]),t._v(" "),e("ul",[e("li",[t._v("If the site is limited by "),e("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" or "),e("span",{staticClass:"notranslate"},[t._v("IO")]),t._v(", then the site will start responding slower.")]),t._v(" "),e("li",[t._v("If the site is limited by memory or number of processes limits, then the user will receive 500 or 503 errors that server cannot execute the script.")])]),t._v(" "),e("h4",{attrs:{id:"checking-if-lve-is-installed"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#checking-if-lve-is-installed"}},[t._v("#")]),t._v(" Checking if LVE is installed")]),t._v(" "),e("p",[t._v("To use LVE you should have CloudLinux kernel installed, and LVE module loaded. You can check the kernel by running the following command:")]),t._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ uname -r\n")])])])]),t._v(" "),e("p",[t._v("You should see something like 2.6.18-294.8.1.el5.lve0.8.60. The kernel should have lve in its name. To see if lve kernel module is loaded run:")]),t._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ lsmod|grep lve\nlve                    46496  0\n")])])])]),t._v(" "),e("p",[t._v("Starting from kernels lve1.4.x iolimits module is a part of kmod-lve and could not be used separately.")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("You can toggle LVE on/off by editing "),e("span",{staticClass:"notranslate"},[e("code",[t._v("/etc/sysconfig/lve")])]),t._v(" and setting "),e("span",{staticClass:"notranslate"},[e("code",[t._v("LVE_ENABLE")])]),t._v(" variable to "),e("span",{staticClass:"notranslate"},[e("code",[t._v("yes")])]),t._v(" or "),e("span",{staticClass:"notranslate"},[e("code",[t._v("no")])]),t._v(".")]),t._v(" "),e("p",[t._v("Setting it to "),e("span",{staticClass:"notranslate"},[e("code",[t._v("yes")])]),t._v(" will enable LVE, setting it to "),e("span",{staticClass:"notranslate"},[e("code",[t._v("no")])]),t._v(" will disable LVE.")])]),t._v(" "),e("li",[e("p",[t._v("You can toggle IO limits by editing "),e("span",{staticClass:"notranslate"},[e("code",[t._v("/etc/sysconfig/iolimits")])]),t._v(" and setting "),e("span",{staticClass:"notranslate"},[e("code",[t._v("IO_LIMITS_ENABLED")])]),t._v(" variable to "),e("span",{staticClass:"notranslate"},[e("code",[t._v("yes")])]),t._v(" or "),e("span",{staticClass:"notranslate"},[e("code",[t._v("no")])]),t._v(".")])])]),t._v(" "),e("p",[t._v("You need to reboot the server, after you set this option to make the changes live.")]),t._v(" "),e("h4",{attrs:{id:"controlling-lve-limits"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#controlling-lve-limits"}},[t._v("#")]),t._v(" Controlling LVE limits")]),t._v(" "),e("p",[t._v("The best way to control LVE limits is using "),e("span",{staticClass:"notranslate"},[t._v("LVE Manager")]),t._v(" in your favorite control panel. Alternatively, you can use command line tool "),e("code",[t._v("lvectl")]),t._v(" to control limits.\nThe limits are saved in "),e("span",{staticClass:"notranslate"},[e("code",[t._v("/etc/container/ve.cfg")])])]),t._v(" "),e("p",[t._v("Example:")]),t._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<?xml version="1.0" ?>\n<lveconfig>\n <defaults>\n         <cpu limit="25"/>\n         <ncpu limit="1"/>\n         <io limit="1024"/>\n         <mem limit="262144"/>\n         <other maxentryprocs="200"/>\n         <pmem limit="262144"/>\n         <nproc limit="0"/>\n </defaults>\n <lve id="532">\n         <cpu limit="30"/>\n         <ncpu limit="5"/>\n </lve>\n</lveconfig>\n')])])])]),t._v(" "),e("p",[t._v("Sets "),e("span",{staticClass:"notranslate"},[t._v("CPU")]),t._v(" limit to 25%, "),e("span",{staticClass:"notranslate"},[t._v("IO")]),t._v(" limit to 1024KB/s, "),e("span",{staticClass:"notranslate"},[t._v("virtual memory")]),t._v(" limit to 1GB (memory limit is set as a number of 4096 bytes pages), "),e("span",{staticClass:"notranslate"},[t._v("physical memory")]),t._v(" limit to 1GB, "),e("span",{staticClass:"notranslate"},[t._v(" CPU")]),t._v(" cores per LVE to 1, maximum entry processes to 200 and no limit for number of processes for all LVEs. It also sets the limit of 30% and number of processes limit to 5 for LVE with ID 532.")]),t._v(" "),e("h4",{attrs:{id:"checking-lve-usage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#checking-lve-usage"}},[t._v("#")]),t._v(" Checking LVE usage")]),t._v(" "),e("p",[t._v("One of the best way to monitor current usage is "),e("router-link",{attrs:{to:"/command-line_tools/#lvetop"}},[t._v("lvetop")]),t._v(":")],1),t._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ lvetop\n         ID     EP    PNO    TNO    CPU    MEM    I/O\n         test    1     2            2     2%    728     0   \n")])])])]),t._v(" "),e("p",[t._v("You can also check the content of "),e("span",{staticClass:"notranslate"},[e("code",[t._v("/proc/lve/list")])]),t._v(" file that has all the data about LVE usage for all LVEs:")]),t._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[root@localhost tests]$ cat /proc/lve/list \n4:LVE        EP        lCPU        lIO        CPU        MEM        IO        lMEM        lEP        nCPU        fMEM        fEP\n0        0        75        25        0        0        0        262144        20        2        0        0\n500        0        75        25        0        0        0        4294967 20        3        2        1        \n700        1        75        25        1403247        202        0        262144        20        2        0        0\n")])])])]),t._v(" "),e("p",[t._v("Additionally, you can use tool "),e("router-link",{attrs:{to:"/command-line_tools/#lveps"}},[t._v("lveps")]),t._v(" to see "),e("span",{staticClass:"notranslate"},[t._v("CPU")]),t._v(" usage, and processes within LVE.")],1),t._v(" "),e("h2",{attrs:{id:"speed-limit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#speed-limit"}},[t._v("#")]),t._v(" SPEED limit")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("Note")]),e("p",[e("span",{staticClass:"notranslate"},[t._v("lve-utils 1.4+")])])]),e("p",[e("span",{staticClass:"notranslate"},[t._v("CPU SPEED")]),t._v(" limit allows to set "),e("span",{staticClass:"notranslate"},[t._v("CPU")]),t._v(" limit in terms of % of a single core, or as a fixed number of Hz.")]),t._v(" "),e("p",[e("span",{staticClass:"notranslate"},[e("code",[t._v("--speed=XX%")])]),t._v(" would set performance relative to one core.")]),t._v(" "),e("p",[t._v("For example:")]),t._v(" "),e("ul",[e("li",[e("span",{staticClass:"notranslate"},[e("code",[t._v("--speed=50%")])]),t._v(" would mean 1/2 core.")]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[e("code",[t._v("--speed=100%")])]),t._v(" would mean 1 core,")]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[e("code",[t._v("--speed=150%")])]),t._v(" would mean 1.5 cores")])]),t._v(" "),e("p",[e("span",{staticClass:"notranslate"},[e("code",[t._v("--speed=XXmhz")])]),t._v(" would automatically detect "),e("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" speed of each core, and adjust the "),e("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" scheduler to make sure user cannot go over that limit.")]),t._v(" "),e("p",[t._v("For example, on 1ghz "),e("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" , setting of "),e("span",{staticClass:"notranslate"},[e("code",[t._v("--speed=2ghz")])]),t._v(" would mean 2 cores, while on 4ghz "),e("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" same setting would mean 1/2 of a core.")]),t._v(" "),e("p",[t._v("This should allow hosting companies to set same approximate performance level limits across different hardware using single setting.")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("Note")]),e("p",[t._v("Note. We strongly recommend setting "),e("span",{staticClass:"notranslate"},[t._v("CPU")]),t._v(" speed limits not less than 100%. As such limits cause "),e("span",{staticClass:"notranslate"},[t._v("CPU")]),t._v(" context switching which leads to increased "),e("code",[t._v("%sys")]),t._v(".")])]),e("h2",{attrs:{id:"memory-limit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#memory-limit"}},[t._v("#")]),t._v(" Memory limit")]),t._v(" "),e("p",[t._v("Memory is controlled using virtual (VMEM) and physical (PMEM) memory limits.")]),t._v(" "),e("h3",{attrs:{id:"virtual-memory-limit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#virtual-memory-limit"}},[t._v("#")]),t._v(" Virtual memory limit")]),t._v(" "),e("p",[t._v("Virtual memory limit corresponds to the amount of memory processes can allocate within LVE. You can see individual process virtual memory usage by monitoring "),e("span",{staticClass:"notranslate"},[t._v("VIRT")]),t._v(" column in "),e("span",{staticClass:"notranslate"},[t._v(" top ")]),t._v(" output for the process.")]),t._v(" "),e("p",[t._v("When process tries to allocate more memory, CloudLinux checks if the new total virtual memory used by all processes within LVE is more then a limit set. In such case CloudLinux will prevent memory from being allocated and increments fVMEM counter. In most cases, but not all of them - this causes process to fail. For CGI/PHP scripts it will usually cause 500 and 503 error.")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("Note")]),e("p",[t._v("It is recommended to disable VMEM limits (set them to 0) in your system at all because they are deprecated in CloudLinux 6 and 7 system and can cause unexpected issues.")])]),e("h3",{attrs:{id:"physical-memory-limit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#physical-memory-limit"}},[t._v("#")]),t._v(" Physical memory limit")]),t._v(" "),e("p",[t._v("Physical memory limit corresponds to the amount of memory actually used by end customer's processes. You can see individual process physical memory usage by monitoring RES column in top output for the process. Because similar processes (like PHP) share a lot of their memory, physical memory usage is often much lower then virtual memory usage.")]),t._v(" "),e("p",[t._v("Additionally physical memory includes shared memory used by the customer, as well as disk cache.\nIn case of disk cache – if a user is starting to lack physical memory, the memory used for disk cache will be freed up, without causing any memory faults.")]),t._v(" "),e("p",[t._v("When LVE goes over physical memory limit, CloudLinux will first free up memory used for disk cache, and if that is not enough, it will kill some of the processes within that LVE, and increment fPMEM counter. This will usually cause web server to serve 500 and 503 errors. Physical memory limit is a much better way to limit memory for shared hosting.")]),t._v(" "),e("h3",{attrs:{id:"troubleshooting"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[t._v("#")]),t._v(" Troubleshooting")]),t._v(" "),e("h4",{attrs:{id:"checking-personal-users-disk-cache-if-lveinfo-shows-memory-usage-but-there-are-no-processes-there"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#checking-personal-users-disk-cache-if-lveinfo-shows-memory-usage-but-there-are-no-processes-there"}},[t._v("#")]),t._v(" "),e("strong",[t._v("Checking personal users disk cache (If lveinfo shows memory usage but there are no processes there)")])]),t._v(" "),e("p",[t._v("If you see no processes under some user, but lve manager keeps telling it is using some memory, then most probably memory is taken by users disk cache. To check personal users disk cache (if lveinfo shows memory usage but not processes there):")]),t._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("cat /proc/bc/XXX/meminfo\n")])])])]),t._v(" "),e("p",[t._v("On CloudLinux 7 and CloudLinux 6 Hybrid systems, the file is different:")]),t._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("cat /proc/bc/lveXXX/meminfo\n")])])])]),t._v(" "),e("p",[t._v("…")]),t._v(" "),e("p",[t._v("Cached: 67300 kB")]),t._v(" "),e("p",[t._v("…")]),t._v(" "),e("p",[t._v("where XXX is user id, could be taken with:")]),t._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("id username\n")])])])]),t._v(" "),e("div",{staticClass:"notranslate"},[e("h2",{attrs:{id:"io"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#io"}},[t._v("#")]),t._v(" IO")])]),t._v(" "),e("p",[t._v("IO limits restrict the data throughput for the customer. They are in KB/s. When limit is reached, the processes are throttled (put to sleep). This makes sure that processes within LVE cannot go over the limit,. Yet don't stop working, nor getting killed – they just work slower when the limit is reached.")]),t._v(" "),e("p",[t._v("IO limits are available with kernels "),e("strong",[t._v("el6.lve1.x")]),t._v(" and higher.")]),t._v(" "),e("p",[t._v("The IO limits will only affect "),e("span",{staticClass:"notranslate"},[t._v(" DISK IO")]),t._v(", and will have no effect on network. It also doesn't take into consideration any disk cache accesses. So, even if file is loaded from disk cache 1000 times – it will not be counted towards "),e("span",{staticClass:"notranslate"},[t._v("IO")]),t._v(" limits.")]),t._v(" "),e("div",{staticClass:"notranslate"},[e("h2",{attrs:{id:"iops"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#iops"}},[t._v("#")]),t._v(" IOPS")])]),t._v(" "),e("p",[e("span",{staticClass:"notranslate"},[t._v("IOPS")]),t._v(" limits restrict the total number of read/write operations per second. When the limit is reached the read/write operations stop until current second expires.")]),t._v(" "),e("div",{staticClass:"notranslate"},[e("h2",{attrs:{id:"entry-processes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#entry-processes"}},[t._v("#")]),t._v(" Entry processes")])]),t._v(" "),e("p",[e("span",{staticClass:"notranslate"},[t._v(" Entry processes ")]),t._v(" limit controls the number of entries into LVE. Each time a process 'enters' into LVE, we increment the counter. Each time process exits LVE, we decrement the counter. We don't count processes that are created inside LVE itself. It is also know as "),e("span",{staticClass:"notranslate"},[t._v(" 'Apache concurrent connections' ")]),t._v(" limit.")]),t._v(" "),e("p",[t._v("The process enter's into LVE when there is a new HTTP request for CGI/PHP.")]),t._v(" "),e("p",[t._v("This limit was created to prevent DoS attacks against web server. One of the fairly popular attacks is to tie up all the Apache connections by hitting some slow page on a server. Once all Apache slots are used up, no one else will be able to connect to the web server, causing it to appear to be down. The issue is worsened by "),e("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" limits, as once site starts to get slow due to "),e("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" limit – it will respond to requests slower and slower, causing more and more connections to be tied up.")]),t._v(" "),e("p",[t._v("To solve that, we have created entry processes (often called concurrent connections) limit. It will limit the number of concurrent connections to Apache, causing web server to serve error 508 page ("),e("span",{staticClass:"notranslate"},[t._v(" Resource Limit Reached")]),t._v("), once there number of concurrent requests for the site goes above the limit.")]),t._v(" "),e("div",{staticClass:"notranslate"},[e("h2",{attrs:{id:"number-of-processes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#number-of-processes"}},[t._v("#")]),t._v(" Number of processes")])]),t._v(" "),e("p",[e("span",{staticClass:"notranslate"},[t._v(" NPROC ")]),t._v(" controls the total number of processes and threads within LVE. Once the limit is reached, no new process can be created (until another one dies). When that happens "),e("span",{staticClass:"notranslate"},[t._v(" NPROC ")]),t._v(" counter is incremented. Apache might return 500 or 503 errors in such case.")]),t._v(" "),e("h2",{attrs:{id:"network-traffic-bandwidth-control-and-accounting-system"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#network-traffic-bandwidth-control-and-accounting-system"}},[t._v("#")]),t._v(" Network traffic bandwidth control and accounting system")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("Note")]),e("p",[t._v("Requires kernel lve1.4.4.el6 or higher, or lve1.4.56.el7 or higher")])]),e("p",[t._v("Network traffic bandwidth control and accounting systems in CloudLinux 6 allows for each LVE container:")]),t._v(" "),e("ul",[e("li",[t._v("Limiting outgoing network traffic bandwidth")]),t._v(" "),e("li",[t._v("Accounting incoming and outgoing network traffic")])]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("Note")]),e("p",[t._v("The system supports IPv4 only protocol.")])]),e("h3",{attrs:{id:"how-to-limit-outgoing-network-traffic"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-limit-outgoing-network-traffic"}},[t._v("#")]),t._v(" How to limit outgoing network traffic")]),t._v(" "),e("p",[t._v("All outgoing IP packets generated inside LVE container are marked with LVE identifier. Traffic control utility tc from iproute2 package uses this marker to set required bandwidth.")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("Note")]),e("p",[t._v("CloudLinux doesn’t limit the network traffic itself, it only marks IP packets with specific LVE id.")])]),e("p",[e("strong",[t._v("Example 1:")])]),t._v(" "),e("ol",[e("li",[t._v("We create class with "),e("span",{staticClass:"notranslate"},[t._v(" HTB qdiscs ")]),t._v(" and rate "),e("span",{staticClass:"notranslate"},[t._v(" 10kbit ")]),t._v(":")])]),t._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("tc qdisc add dev eth1 root handle 1: htb\n\ntc class add dev eth1 parent 1: classid 1:1 htb rate 10kbit\n")])])])]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[t._v("All packets marked with LVE id will be processed by class 1:1 (rate "),e("span",{staticClass:"notranslate"},[t._v(" 10kbit ")]),t._v(").")])]),t._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("tc filter add dev eth1 parent 1: handle 2121 fw flowid 1:1\n")])])])]),t._v(" "),e("p",[e("strong",[t._v("Example 2:")])]),t._v(" "),e("ol",[e("li",[t._v("As an example we create class with "),e("span",{staticClass:"notranslate"},[t._v(" HTB qdiscs ")]),t._v(" and rate "),e("span",{staticClass:"notranslate"},[t._v("100mbit")]),t._v(" and class 1:10 will be used by default:")])]),t._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("tc qdisc add dev eth3 root handle 1: htb default 10\n\ntc class add dev eth3 parent 1: classid 1:1 htb rate 100mbit\n")])])])]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[t._v("For class 1:1 we create two branches with rate 5 "),e("span",{staticClass:"notranslate"},[t._v(" mbit ")]),t._v(" and 10 "),e("span",{staticClass:"notranslate"},[t._v(" kbit ")]),t._v(" accordingly, with classid 1:10 and 1:20.")])]),t._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("tc class add dev eth3 parent 1:1 classid 1:10 htb rate 5mbit\n\ntc class add dev eth3 parent 1:1 classid 1:20 htb rate 10kbit\n")])])])]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[t._v("All packets marked with LVE id=2121 are processed by 10 kbit class.")])]),t._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("tc filter add dev eth3 protocol ip parent 1: prio 1 handle 2121 fw flowid 1:20\n\n")])])])]),t._v(" "),e("p",[t._v("More info about "),e("code",[t._v("tc")]),t._v(" and its syntax can be found on the link "),e("a",{attrs:{href:"http://tldp.org/HOWTO/Traffic-Control-HOWTO/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://tldp.org/HOWTO/Traffic-Control-HOWTO/index.html"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"traffic-accounting"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#traffic-accounting"}},[t._v("#")]),t._v(" Traffic accounting")]),t._v(" "),e("p",[t._v("Traffic accounting is performed for each LVE container. Network statistics is collected at "),e("span",{staticClass:"notranslate"},[e("code",[t._v("/proc/lve/list")])]),t._v(" file. Network-related data found at fields:")]),t._v(" "),e("ul",[e("li",[e("span",{staticClass:"notranslate"},[e("code",[t._v("lNETO")])]),t._v(" - output traffic limit by volume, equals 0*")]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[e("code",[t._v("lNETI")])]),t._v(" - input traffic limit by volume, equals 0*")]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[e("code",[t._v("NETO")])]),t._v(" - current outgoing traffic value")]),t._v(" "),e("li",[e("span",{staticClass:"notranslate"},[e("code",[t._v("NETI")])]),t._v(" - current incoming traffic value")])]),t._v(" "),e("p",[t._v("The data is also collected at "),e("span",{staticClass:"notranslate"},[e("code",[t._v("/proc/lve/per-lve/<id>/net_stat")])]),t._v(", where "),e("code",[t._v("id")]),t._v(" is an LVE container identifier.")]),t._v(" "),e("p",[e("span",{staticClass:"notranslate"},[e("code",[t._v("net_stat")])]),t._v(" file contains 4 values in one row:")]),t._v(" "),e("ul",[e("li",[t._v("Outgoing traffic limit by volume, equals 0*")]),t._v(" "),e("li",[t._v("Incoming traffic limit by volume, equals 0*")]),t._v(" "),e("li",[t._v("Current outgoing traffic value")]),t._v(" "),e("li",[t._v("Current incoming traffic value")])]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("Note")]),e("p",[t._v("The current version of CloudLinux network control system doesn’t limit network traffic volume for a specific period of time (for example 3GB per day), it limits only network bandwidth.")]),t._v(" "),e("p",[t._v("Network limits are supported only for processes inside LVE. By default it does not limit static content, but only PHP/cgi scripts processed by Apache and processes launched over ssh etc.")])]),e("h2",{attrs:{id:"limits-validation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#limits-validation"}},[t._v("#")]),t._v(" Limits validation")]),t._v(" "),e("p",[t._v("Starting from "),e("span",{staticClass:"notranslate"},[e("strong",[t._v("lve-utils")])]),t._v(" "),e("strong",[t._v("version 3.1-1")]),t._v(", the validation of EP and NPROC limits is supported. If an administrator sets the NPROC limit less than (EP + 15), the following warning is shown:")]),t._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("error: You're trying to set invalid LVE limits.\nNPROC limit must be greater than EP + 15 limit, because number of processes and threads within LVE includes\nalso Apache processes/threads, SSH sessions and etc, which enter into LVE.\n")])])])]),t._v(" "),e("p",[t._v("Validation does not affect limits operation in any way. Even if invalid limits have been set, they will be applied for users/resellers.")]),t._v(" "),e("p",[t._v("Commands that support validation:")]),t._v(" "),e("ol",[e("li",[e("span",{staticClass:"notranslate"},[e("code",[t._v("lvectl set")])])])]),t._v(" "),e("p",[t._v("This command allows validation of an LVE ID which does not have a corresponding UID in the system. I.e., you can set limits for any LVE ID and they can be validated.")]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[e("span",{staticClass:"notranslate"},[e("code",[t._v("lvectl set-user")])])])]),t._v(" "),e("p",[t._v("This command allows validation when setting limits using a user name instead of LVE ID.")]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[e("span",{staticClass:"notranslate"},[e("code",[t._v("lvectl set-reseller")])])])]),t._v(" "),e("p",[t._v("This command supports limits validation both for inactive reseller and active one.")]),t._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[e("span",{staticClass:"notranslate"},[e("code",[t._v("lvectl set-reseller-default")])])])]),t._v(" "),e("p",[t._v("This command supports validation when setting default limits for a reseller.")]),t._v(" "),e("ol",{attrs:{start:"5"}},[e("li",[e("span",{staticClass:"notranslate"},[e("code",[t._v("lvectl package-set")])])])]),t._v(" "),e("p",[t._v("This command supports limits validation both for packages existing in the system and nonexisting ones.")]),t._v(" "),e("ol",{attrs:{start:"6"}},[e("li",[t._v("The "),e("span",{staticClass:"notranslate"},[e("code",[t._v("cloudlinux-package")])]),t._v(" and "),e("span",{staticClass:"notranslate"},[e("code",[t._v("cloudlinux-limits")])]),t._v(" commands support all validation types described above, and support limits validation and exceptions lists as described below.")])]),t._v(" "),e("h4",{attrs:{id:"exceptions-list-validation-is-not-supported"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exceptions-list-validation-is-not-supported"}},[t._v("#")]),t._v(" Exceptions list (validation is not supported)")]),t._v(" "),e("ol",[e("li",[t._v("a) When EP limit for a package is greater than a custom NPROC limit for a user included in this package.")])]),t._v(" "),e("p",[e("strong",[t._v("OR")])]),t._v(" "),e("p",[t._v("b) when NPROC limit for a package is less than a custom EP limit for a user included in this package.")]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[t._v("a) When default EP limit for a hoster is greater than a custom NPROC limit for a user/package which inherits the default limit.")])]),t._v(" "),e("p",[e("strong",[t._v("OR")])]),t._v(" "),e("p",[t._v("b) When default NPROC limit for a hoster is less than a custom EP limit for a user/package which inherits the default limit.")]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[t._v("When using the following commands:")])]),t._v(" "),e("p",[t._v("a) "),e("span",{staticClass:"notranslate"},[e("code",[t._v("lvectl set-reseller --all")])])]),t._v(" "),e("p",[t._v("b) "),e("span",{staticClass:"notranslate"},[e("code",[t._v("cloudlinux-limits --json enable-reseller-limits --all")])])]),t._v(" "),e("h4",{attrs:{id:"existing-limits-validation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#existing-limits-validation"}},[t._v("#")]),t._v(" Existing limits validation")]),t._v(" "),e("p",[t._v("The automatic validation using "),e("span",{staticClass:"notranslate"},[e("code",[t._v("cldiag")])]),t._v(" utility by cron job is enabled on a server by default. You can disable it in the "),e("span",{staticClass:"notranslate"},[e("code",[t._v("/etc/sysconfig/cloudlinux")])]),t._v(" config file using "),e("span",{staticClass:"notranslate"},[e("code",[t._v("ENABLE_CLDIAG")])]),t._v(" option ("),e("strong",[t._v("Warning!")]),t._v(" This option disables all automatic checks using cldiag!) When calling this utility automatically by cron, it checks all limits existing on the server and send an administrator a report with limits check results. You can use the following command to validate existing limits: "),e("span",{staticClass:"notranslate"},[e("code",[t._v("cldiag --check-lve-limits")])]),t._v(".")]),t._v(" "),e("p",[t._v("The important difference between checking existing and setting limits is that even if validation fails when setting limits (see exceptions list above), checking existing limits will catch invalid limits in any case. I.e. even if a server administrator set invalid limits, validation of existing limits will catch invalid limit in any case.")]),t._v(" "),e("h4",{attrs:{id:"best-practice"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#best-practice"}},[t._v("#")]),t._v(" Best practice")]),t._v(" "),e("p",[t._v("Set NPROC limit greater than (EP + 15).")]),t._v(" "),e("h2",{attrs:{id:"compatibility-matrix"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#compatibility-matrix"}},[t._v("#")]),t._v(" Compatibility matrix")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th"),t._v(" "),e("th"),t._v(" "),e("th"),t._v(" "),e("th"),t._v(" "),e("th"),t._v(" "),e("th"),t._v(" "),e("th"),t._v(" "),e("th")])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("span",{staticClass:"notranslate"},[t._v(" Web Server / PHP ")])]),t._v(" "),e("td",[e("span",{staticClass:"notranslate"},[t._v(" CPU ")])]),t._v(" "),e("td",[e("span",{staticClass:"notranslate"},[t._v(" Virtual & Physical Memory ")])]),t._v(" "),e("td",[e("span",{staticClass:"notranslate"},[t._v(" EP ")])]),t._v(" "),e("td",[t._v("NPROC")]),t._v(" "),e("td",[e("span",{staticClass:"notranslate"},[t._v(" IO ")])]),t._v(" "),e("td",[t._v("CageFS")]),t._v(" "),e("td",[e("span",{staticClass:"notranslate"},[t._v(" PHP Selector ")])])]),t._v(" "),e("tr",[e("td",[t._v("Apache / suPHP")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")])]),t._v(" "),e("tr",[e("td",[t._v("Apache / FCGID")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")])]),t._v(" "),e("tr",[e("td",[t._v("Apache / CGI")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")])]),t._v(" "),e("tr",[e("td",[t._v("Apache / PHP-FPM")]),t._v(" "),e("td",[t._v("Yes"),e("sup",[t._v(" 3")])]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes"),e("sup",[t._v(" 3")])]),t._v(" "),e("td",[t._v("No")])]),t._v(" "),e("tr",[e("td",[t._v("Apache / mod_php")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("No")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("No")]),t._v(" "),e("td",[t._v("No")])]),t._v(" "),e("tr",[e("td",[t._v("Apache / mod_ruid2")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("No")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("No")]),t._v(" "),e("td",[t._v("No")])]),t._v(" "),e("tr",[e("td",[t._v("Apache / MPM ITK")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("No")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes"),e("sup",[t._v(" 1")])]),t._v(" "),e("td",[t._v("No")])]),t._v(" "),e("tr",[e("td",[t._v("LiteSpeed")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes"),e("sup",[t._v(" 2")])]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")])]),t._v(" "),e("tr",[e("td",[t._v("NGINX / PHP-FPM")]),t._v(" "),e("td",[t._v("Yes"),e("sup",[t._v(" 3")])]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("No")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("No")])]),t._v(" "),e("tr",[e("td",[t._v("SSH")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes"),e("sup",[t._v(" 3")])]),t._v(" "),e("td",[t._v("Yes")])]),t._v(" "),e("tr",[e("td",[e("span",{staticClass:"notranslate"},[t._v(" Cron Jobs ")])]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")]),t._v(" "),e("td",[t._v("Yes")])])])]),t._v(" "),e("ol",[e("li",[t._v("Requires patched version of MPM-ITK. CL httpd RPM has ITK worker with the patch. Patch is also available at: "),e("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/sources/da/cl-apache-patches.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/sources/da/cl-apache-patches.tar.gz"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("CloudLinux 7 and CloudLinux 6 kernels only.")]),t._v(" "),e("li",[t._v("The DirectAdmin and CloudLinux PHP provide patched version. For other PHP distributions, please use patches available here: "),e("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/sources/da/cl-apache-patches.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/sources/da/cl-apache-patches.tar.gz"),e("OutboundLink")],1)])]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("Note")]),e("p",[t._v("Please note that mod_lsapi does not work when php-fpm is enabled because php-fpm is also a PHP Handler just as mod_lsapi.")])])])},[],!1,null,null,null);s.default=i.exports}}]);